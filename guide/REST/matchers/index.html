<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<title>WebTau: Matchers</title><link rel="stylesheet" type="text/css" href="/webtau/guide/static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/webtau/guide/static/main.css">
<link rel="stylesheet" type="text/css" href="/webtau/guide/logo.css">
</head>
<link rel="shortcut icon" href="/webtau/guide/favicon.png"type="image/ico"/>
<body>
<div id="mdoc"><section style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<header><h1>Response Mapping</h1></header>
<p>Identifiers inside validation closure are automatically mapped to a response body. In case of an array response you need to access values using  body .</p>
</article>

<article>
<header><h1>Should and Should Not</h1></header>
<p>Matchers in webtau are triggered with  should  and  shouldNot  keywords. myValue.should contain(10)
myValue.shouldNot equal("hello")
 Some matchers have alternative shortcuts. myValue.should != 10
 Additionally  shouldBe  and  shouldNotBe  alias keywords are available to make certain matcher combinations easier to read myValue.shouldBe greaterThan(10)
myValue.shouldBe > 10
</p>
</article>

<article>
<header><h1>Equality</h1></header>
<p>Webtau defines its own set of equality rules to simplify testing.</p>
</article>

<article>
<header><h1>Greater/Less/Equal</h1></header>
<p>Standard operations  > ,  >= ,  < ,  <=  are supported as shortcuts for  greaterThan ,  greaterThanOrEqual ,  lessThan , and  lessThanOrEqual .</p>
</article>

<article>
<header><h1>Contain</h1></header>
<p>Use  contain  when you cannot rely on order.</p>
</article>

<article>
<header><h1>Date and Time</h1></header>
<p>You can assert  actual  string against  LocalDate  and  ZonedDateTime . String will be automatically converted using ISO formatter.</p>
</article>

<article>
<header><h1>Mixing Matchers</h1></header>
<p>You can use matchers in place of expected values to build a more complex expectation.</p>
</article>
</section>
</div>
<script type="text/javascript" src="/webtau/guide/toc.js"></script>
<script type="text/javascript" src="/webtau/guide/static/react.min.js"></script>
<script type="text/javascript" src="/webtau/guide/static/react-dom.min.js"></script>
<script type="text/javascript" src="/webtau/guide/static/main.js"></script>
<script type="text/javascript" src="/webtau/guide/search-index.js"></script>
<script>
document.getElementById('mdoc').innerHTML = '';
ReactDOM.render(React.createElement(Documentation, {
  "docMeta": {
    "viewOn": {
      "link": "https://github.com/twosigma/webtau/tree/master/webtau-docs/webtau",
      "title": "View On GitHub"
    },
    "id": "webtau/guide",
    "title": "WebTau",
    "type": "Guide",
    "previewEnabled": false
  },
  "page": {
    "type": "Page",
    "content": [
      {
        "title": "Response Mapping",
        "id": "response-mapping",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Identifiers inside validation closure are automatically mapped to a response body.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "http.get(\"/end-point-simple-object\") {\n    k1.should \u003d\u003d \u0027v1\u0027\n}",
            "entry": "simple object mapping example",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "rightSide": true,
            "type": "Meta"
          },
          {
            "title": "object response",
            "data": {
              "id": "id1",
              "k1": "v1",
              "k2": "v2"
            },
            "paths": [],
            "type": "Json"
          },
          {
            "rightSide": false,
            "type": "Meta"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "In case of an array response you need to access values using ",
                "type": "SimpleText"
              },
              {
                "code": "body",
                "type": "InlinedCode"
              },
              {
                "text": ".",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "http.get(\"/end-point-simple-list\") {\n    body[0].k1.should \u003d\u003d \u0027v1\u0027\n}",
            "entry": "simple list mapping example",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "rightSide": true,
            "type": "Meta"
          },
          {
            "title": "list response",
            "data": [
              {
                "id": "id1",
                "k1": "v1",
                "k2": "v2"
              }
            ],
            "paths": [],
            "type": "Json"
          }
        ]
      },
      {
        "title": "Should and Should Not",
        "id": "should-and-should-not",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Matchers in webtau are triggered with ",
                "type": "SimpleText"
              },
              {
                "code": "should",
                "type": "InlinedCode"
              },
              {
                "text": " and ",
                "type": "SimpleText"
              },
              {
                "code": "shouldNot",
                "type": "InlinedCode"
              },
              {
                "text": " keywords.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "myValue.should contain(10)\nmyValue.shouldNot equal(\"hello\")\n",
            "lineNumber": "",
            "type": "Snippet"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Some matchers have alternative shortcuts.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "myValue.should !\u003d 10\n",
            "lineNumber": "",
            "type": "Snippet"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Additionally ",
                "type": "SimpleText"
              },
              {
                "code": "shouldBe",
                "type": "InlinedCode"
              },
              {
                "text": " and ",
                "type": "SimpleText"
              },
              {
                "code": "shouldNotBe",
                "type": "InlinedCode"
              },
              {
                "text": " alias keywords are available to make certain matcher combinations easier to read",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "myValue.shouldBe greaterThan(10)\nmyValue.shouldBe \u003e 10\n",
            "lineNumber": "",
            "type": "Snippet"
          }
        ]
      },
      {
        "title": "Equality",
        "id": "equality",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Webtau defines its own set of equality rules to simplify testing.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "http.get(\"/end-point\") {\n    id.should !\u003d 0\n    amount.should \u003d\u003d 30\n\n    list.should \u003d\u003d [1, 2, 3]\n\n    object.k1.should \u003d\u003d ~/v\\d/ // regular expression matching\n\n    object.should \u003d\u003d [k1: \u0027v1\u0027, k3: \u0027v3\u0027] // matching only specified fields and can be nested multiple times\n\n    complexList.should \u003d\u003d [\"k1\"   | \"k2\"] { // matching only specified fields, but number of entries must be exact\n                           ________________\n                            \"v1\"  | 30\n                            \"v11\" | 40 }\n}\n\nhttp.doc.capture(\"end-point-object-equality-matchers\")",
            "entry": "equality matcher",
            "bodyOnly": true,
            "commentsType": "inline",
            "type": "Snippet"
          },
          {
            "rightSide": true,
            "type": "Meta"
          },
          {
            "title": "response",
            "pathsFile": "doc-artifacts/end-point-object-equality-matchers/paths.json",
            "data": {
              "id": 10,
              "price": 100,
              "amount": 30,
              "list": [
                1,
                2,
                3
              ],
              "object": {
                "k1": "v1",
                "k2": "v2",
                "k3": "v3"
              },
              "complexList": [
                {
                  "id": "id1",
                  "k1": "v1",
                  "k2": 30
                },
                {
                  "id": "id2",
                  "k1": "v11",
                  "k2": 40
                }
              ]
            },
            "paths": [
              "root.id",
              "root.amount",
              "root.list[0]",
              "root.list[1]",
              "root.list[2]",
              "root.object.k1",
              "root.object.k3",
              "root.complexList[0].k1",
              "root.complexList[0].k2",
              "root.complexList[1].k1",
              "root.complexList[1].k2"
            ],
            "type": "Json"
          }
        ]
      },
      {
        "title": "Greater/Less/Equal",
        "id": "greaterlessequal",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Standard operations ",
                "type": "SimpleText"
              },
              {
                "code": "\u003e",
                "type": "InlinedCode"
              },
              {
                "text": ", ",
                "type": "SimpleText"
              },
              {
                "code": "\u003e\u003d",
                "type": "InlinedCode"
              },
              {
                "text": ", ",
                "type": "SimpleText"
              },
              {
                "code": "\u003c",
                "type": "InlinedCode"
              },
              {
                "text": ", ",
                "type": "SimpleText"
              },
              {
                "code": "\u003c\u003d",
                "type": "InlinedCode"
              },
              {
                "text": " are supported as shortcuts for ",
                "type": "SimpleText"
              },
              {
                "code": "greaterThan",
                "type": "InlinedCode"
              },
              {
                "text": ", ",
                "type": "SimpleText"
              },
              {
                "code": "greaterThanOrEqual",
                "type": "InlinedCode"
              },
              {
                "text": ", ",
                "type": "SimpleText"
              },
              {
                "code": "lessThan",
                "type": "InlinedCode"
              },
              {
                "text": ", and ",
                "type": "SimpleText"
              },
              {
                "code": "lessThanOrEqual",
                "type": "InlinedCode"
              },
              {
                "text": ".",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "http.get(\"/end-point-numbers\") {\n    id.shouldBe \u003e 0\n    price.shouldBe \u003e\u003d 100\n    amount.shouldBe \u003c 150\n    list[1].shouldBe \u003c\u003d 2\n\n    id.shouldNotBe \u003c\u003d 0\n    price.shouldNotBe \u003c 100\n    amount.shouldNotBe \u003e\u003d 150\n    list[1].shouldNotBe \u003e 2\n}\n\nhttp.doc.capture(\"end-point-numbers-matchers\")",
            "entry": "compare numbers with greater less matchers",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "rightSide": true,
            "type": "Meta"
          },
          {
            "title": "response",
            "pathsFile": "doc-artifacts/end-point-numbers-matchers/paths.json",
            "data": {
              "id": 10,
              "price": 100,
              "amount": 30,
              "list": [
                1,
                2,
                3
              ]
            },
            "paths": [
              "root.id",
              "root.price",
              "root.amount",
              "root.list[1]"
            ],
            "type": "Json"
          }
        ]
      },
      {
        "title": "Contain",
        "id": "contain",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Use ",
                "type": "SimpleText"
              },
              {
                "code": "contain",
                "type": "InlinedCode"
              },
              {
                "text": " when you cannot rely on order.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "http.get(\"/end-point-list\") {\n    body.should contain([k1: \u0027v1\u0027, k2: \u0027v2\u0027])\n    body[1].k2.shouldNot contain(22)\n}\n\nhttp.doc.capture(\"end-point-list-contain-matchers\")",
            "entry": "contain matcher",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "rightSide": true,
            "type": "Meta"
          },
          {
            "title": "response",
            "pathsFile": "doc-artifacts/end-point-list-contain-matchers/paths.json",
            "data": [
              {
                "id": "id1",
                "k1": "v1",
                "k2": "v2"
              },
              {
                "id": "id2",
                "k1": "v11",
                "k2": [
                  10,
                  20,
                  30
                ]
              }
            ],
            "paths": [
              "root[0].k1",
              "root[0].k2",
              "root[1].k2[0]",
              "root[1].k2[1]",
              "root[1].k2[2]"
            ],
            "type": "Json"
          }
        ]
      },
      {
        "title": "Date and Time",
        "id": "date-and-time",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "You can assert ",
                "type": "SimpleText"
              },
              {
                "code": "actual",
                "type": "InlinedCode"
              },
              {
                "text": " string against ",
                "type": "SimpleText"
              },
              {
                "code": "LocalDate",
                "type": "InlinedCode"
              },
              {
                "text": " and ",
                "type": "SimpleText"
              },
              {
                "code": "ZonedDateTime",
                "type": "InlinedCode"
              },
              {
                "text": ". String will be automatically converted",
                "type": "SimpleText"
              },
              {
                "type": "SoftLineBreak"
              },
              {
                "text": "using ISO formatter.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "http.get(\"/end-point-dates\") {\n    def expectedDate \u003d LocalDate.of(2018, 6, 12)\n    def expectedTime \u003d ZonedDateTime.of(expectedDate,\n        LocalTime.of(9, 0, 0),\n        ZoneId.of(\"UTC\"))\n\n    tradeDate.should \u003d\u003d expectedDate\n    transactionTime.should \u003d\u003d expectedTime\n    transactionTime.shouldBe \u003e\u003d expectedDate\n\n    paymentSchedule.should contain(expectedDate)\n}\n\nhttp.doc.capture(\"end-point-dates-matchers\")",
            "entry": "working with dates",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "rightSide": true,
            "type": "Meta"
          },
          {
            "title": "response",
            "pathsFile": "doc-artifacts/end-point-dates-matchers/paths.json",
            "data": {
              "id": 54,
              "tradeDate": "2018-06-12",
              "transactionTime": "2018-06-12T10:00:00+01:00:00",
              "paymentSchedule": [
                "2018-06-12",
                "2018-07-10",
                "2018-08-09",
                "2018-09-12"
              ]
            },
            "paths": [
              "root.tradeDate",
              "root.transactionTime",
              "root.paymentSchedule[0]"
            ],
            "type": "Json"
          }
        ]
      },
      {
        "title": "Mixing Matchers",
        "id": "mixing-matchers",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "You can use matchers in place of expected values to build a more complex expectation.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "snippet": "http.get(\"/end-point-mixed\") {\n    list.should contain(lessThanOrEqual(2)) // lessThanOrEqual will be matched against each value\n\n    object.should \u003d\u003d [k1: \u0027v1\u0027, k3: ~/v\\d/] // regular expression match against k3\n\n    complexList[0].should \u003d\u003d [k1: \u0027v1\u0027, k2: lessThan(120)] // lessThen match against k2\n\n    complexList[1].should \u003d\u003d [\n        k1: notEqual(\u0027v1\u0027), // any value but v1\n        k2: greaterThanOrEqual(120)]\n\n    complexList.should \u003d\u003d [\"k1\"   | \"k2\"] {\n                          ___________________________\n                           ~/v\\d/ | lessThan(120)\n                            \"v11\" | greaterThan(150) } // using matchers as cell values\n}\n\nhttp.doc.capture(\"end-point-mixing-matchers\")",
            "entry": "matchers combo",
            "bodyOnly": true,
            "commentsType": "inline",
            "type": "Snippet"
          },
          {
            "rightSide": true,
            "type": "Meta"
          },
          {
            "title": "response",
            "pathsFile": "doc-artifacts/end-point-mixing-matchers/paths.json",
            "data": {
              "list": [
                1,
                2,
                3
              ],
              "object": {
                "k1": "v1",
                "k2": "v2",
                "k3": "v3"
              },
              "complexList": [
                {
                  "id": "id1",
                  "k1": "v1",
                  "k2": 100
                },
                {
                  "id": "id2",
                  "k1": "v11",
                  "k2": 200
                }
              ]
            },
            "paths": [
              "root.list[0]",
              "root.list[1]",
              "root.object.k1",
              "root.object.k3",
              "root.complexList[0].k1",
              "root.complexList[0].k2",
              "root.complexList[1].k1",
              "root.complexList[1].k2"
            ],
            "type": "Json"
          }
        ]
      }
    ],
    "lastModifiedTime": 1529582974000,
    "tocItem": {
      "sectionTitle": "REST",
      "pageTitle": "Matchers",
      "pageMeta": {
        "type": [
          "two-sides"
        ]
      },
      "fileName": "matchers",
      "dirName": "REST",
      "pageSectionIdTitles": [
        {
          "title": "Response Mapping",
          "id": "response-mapping"
        },
        {
          "title": "Should and Should Not",
          "id": "should-and-should-not"
        },
        {
          "title": "Equality",
          "id": "equality"
        },
        {
          "title": "Greater/Less/Equal",
          "id": "greaterlessequal"
        },
        {
          "title": "Contain",
          "id": "contain"
        },
        {
          "title": "Date and Time",
          "id": "date-and-time"
        },
        {
          "title": "Mixing Matchers",
          "id": "mixing-matchers"
        }
      ]
    }
  },
  "footer": {}
}), document.getElementById("mdoc"));
</script>

</body>
</html>
