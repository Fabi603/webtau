<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<title>WebTau: OpenAPI Spec</title><link rel="stylesheet" type="text/css" href="/webtau/guide/static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/webtau/guide/static/main.css">
<link rel="stylesheet" type="text/css" href="/webtau/guide/logo.css">
</head>
<link rel="shortcut icon" href="/webtau/guide/favicon.png" type="image/ico"/>
<body>
<div id="mdoc"><span data-reactroot=""><div class="documentation"><div class="side-panel"><div class="toc-panel"><div class="toc-panel-header"><div class="toc-panel-header-logo-and-title"><div class="mdoc-documentation-logo"></div><div class="toc-panel-header-title">WebTau Guide</div></div><div class="toc-panel-collapse-button"><svg xmlns="http://www.w3.org/2000/svg" width="9" height="14" viewBox="0 0 9 14"><path fill-rule="evenodd" d="M6.93 13.23L0 6.61 6.93 0l1.48 1.532L3.305 6.65l5.107 4.977z"></path></svg></div></div><div class="toc-menu"><div class="toc-section selected"><div class="title">REST</div><div class="toc-item"><a href="/webtau/guide/REST/getting-started">Getting Started</a></div><div class="toc-item"><a href="/webtau/guide/REST/CRUD">CRUD</a></div><div class="toc-item"><a href="/webtau/guide/REST/CRUD-separated">CRUD Separated</a></div><div class="toc-item"><a href="/webtau/guide/REST/data-node">Data Node</a></div><div class="toc-item"><a href="/webtau/guide/REST/headers">Headers</a></div><div class="toc-item"><a href="/webtau/guide/REST/files-upload">Files Upload</a></div><div class="toc-item"><a href="/webtau/guide/REST/documentation">Documentation</a></div><div class="toc-item"><a href="/webtau/guide/REST/complex-types">Complex Types</a></div><div class="toc-item selected"><a href="/webtau/guide/REST/openAPI-spec">OpenAPI Spec</a><div class="page-sections"><div class="page-section selected"><a href="#validation">Validation</a></div><div class="page-section"><a href="#current-limitations">Current limitations</a></div><div class="page-section"><a href="#validations-report">Validations report</a></div></div></div><div class="toc-item"><a href="/webtau/guide/REST/matchers">Matchers</a></div></div><div class="toc-section"><div class="title">UI</div><div class="toc-item"><a href="/webtau/guide/UI/configuration">Configuration</a></div><div class="toc-item"><a href="/webtau/guide/UI/finders-and-filters">Finders And Filters</a></div><div class="toc-item"><a href="/webtau/guide/UI/page-object">Page Object</a></div><div class="toc-item"><a href="/webtau/guide/UI/page-element">Page Element</a></div><div class="toc-item"><a href="/webtau/guide/UI/matchers">Matchers</a></div></div><div class="toc-section"><div class="title">Configuration</div><div class="toc-item"><a href="/webtau/guide/configuration/cli">Cli</a></div><div class="toc-item"><a href="/webtau/guide/configuration/environments">Environments</a></div></div></div></div></div><div class="search-button glyphicon glyphicon-search"></div><div class="main-panel"><div class="page-content"><div class="content-block"><div class="page-title-block"><span class="page-title">OpenAPI Spec</span><span class="presentation-button glyphicon glyphicon-resize-full"></span></div><div class="page-meta-block"><div class="page-last-update-time">Thu May 24 2018</div><div class="page-view-on"><a href="https://github.com/twosigma/webtau/tree/master/webtau-docs/webtau/REST/openAPI-spec.md" target="_bank">View On GitHub</a></div></div></div><div class="section"><div class="content-block"><h1 class="section-title" id="validation">Validation<a href="#validation"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="paragraph content-block"><span class="simple-text">Webtau supports validation of responses against an </span><a href="https://www.openapis.org/" target="_blank"><span class="simple-text">OpenAPI specification</span></a><span class="simple-text">.  This feature can</span><span> </span><span class="simple-text">be enabled by specifying the </span><code>openApiSpecUrl</code><span class="simple-text"> configuration option.  This should be the URL to the specification against</span><span> </span><span class="simple-text">which to validate.</span></div><div class="snippet-container content-block"><div class="title-container content-block"><div class="title">Configuration</div></div><div class="snippet with-title"><pre><span class="code-line">url <span class="token operator">=</span> <span class="token string">&quot;http://localhost:8080&quot;</span>
</span><span class="code-line">openApiSpecUrl <span class="token operator">=</span> <span class="token string">&#x27;api-spec.json&#x27;</span></span></pre></div></div></div><div class="section"><div class="content-block"><h1 class="section-title" id="current-limitations">Current limitations<a href="#current-limitations"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="paragraph content-block"><span class="simple-text">OpenAPI specification support is still in its early stage.  It is fully functional but there are a few limitations to be</span><span> </span><span class="simple-text">aware of:</span></div><ul class="content-block tight"><li class="list-item"><div class="paragraph content-block"><span class="simple-text">webtau currently only supports OpenAPI specification v2</span></div></li><li class="list-item"><div class="paragraph content-block"><span class="simple-text">specification matching is currently done purely based on the path</span></div></li><li class="list-item"><div class="paragraph content-block"><span class="simple-text">any HTTP requests which do not match any operation in the specification will not fail tests but will produce a warning</span><span> </span><span class="simple-text">on the console</span></div></li></ul></div><div class="section"><div class="content-block"><h1 class="section-title" id="validations-report">Validations report<a href="#validations-report"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="paragraph content-block"><span class="simple-text">The validation errors are reported in the same manner as assertion errors.  They are available in the output from the</span><span> </span><span class="simple-text">command line webtau runner:</span></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line"><span class="token operator">&gt;</span> executing HTTP POST http://localhost:8080/customers
 <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token string">&quot;id&quot;</span><span class="token keyword">:</span> 1,
  <span class="token string">&quot;firstName&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;FN&quot;</span>,
  <span class="token string">&quot;lastName&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;LN&quot;</span>,
  <span class="token string">&quot;_links&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token string">&quot;self&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token string">&quot;href&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;http://localhost:8080/customers/1&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>,
    <span class="token string">&quot;customer&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token string">&quot;href&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;http://localhost:8080/customers/1&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"> <span class="token punctuation">}</span>
</span><span class="code-line">X failed executing HTTP POST http://localhost:8080/customers <span class="token keyword">:</span> 
API spec validation failure: ERROR - Response status 201 not defined <span class="token keyword">for</span> path <span class="token string">&#x27;&#x27;</span>.: <span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">[</span>x<span class="token punctuation">]</span> failed
java.lang.AssertionError: 
API spec validation failure: ERROR - Response status 201 not defined <span class="token keyword">for</span> path <span class="token string">&#x27;&#x27;</span>.: <span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">	at rest.springboot.customerCrud<span class="token variable">$_run_closure1</span>.doCall<span class="token punctuation">(</span>customerCrud.groovy:8<span class="token punctuation">)</span>
</span><span class="code-line">	at rest.springboot.customerCrud<span class="token variable">$_run_closure1</span>.doCall<span class="token punctuation">(</span>customerCrud.groovy<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">Total: 1,  Passed: 0,  Skipped: 0,  Failed: 1,  Errored: 0
</span></pre></div></div><div class="paragraph content-block"><span class="simple-text">They are also available in the HTML report:</span></div><div class="embedded-annotated-image"><div style="position:relative;width:900px;height:248.8849241748439px" class="annotated-image"><div style="position:absolute;top:0"><img alt="annotated" src="/webtau/guide/img/rest-crud-openapi-spec-validation-error.png" width="900px" height="248.8849241748439px"/></div><div style="position:absolute;top:0"><svg width="900px" height="248.8849241748439px"><filter id="highlight"><feColorMatrix values="1 0 1 0 0 1 0 1 0 0 1 0 1 0 0 0 0 0 1 0"></feColorMatrix></filter></svg></div></div></div></div></div><div class="page-default-bottom-padding"></div><div class="page-bottom"><div class="page-default-next-prev-navigation"><div class="default-next-prev-navigation-button"><span class="glyphicon glyphicon-chevron-left"></span><span class="next-prev-page-title">Complex Types<!-- --> </span></div><div class="default-next-prev-navigation-button"><span class="next-prev-page-title">Matchers<!-- --> </span><span class="glyphicon glyphicon-chevron-right"></span></div></div></div></div></div></span></div>
<script type="text/javascript" src="/webtau/guide/toc.js"></script>
<script type="text/javascript" src="/webtau/guide/static/react.min.js"></script>
<script type="text/javascript" src="/webtau/guide/static/react-dom.min.js"></script>
<script type="text/javascript" src="/webtau/guide/static/main.js"></script>
<script>
ReactDOM.render(React.createElement(Documentation, {
  "docMeta": {
    "viewOn": {
      "link": "https://github.com/twosigma/webtau/tree/master/webtau-docs/webtau",
      "title": "View On GitHub"
    },
    "id": "webtau/guide",
    "title": "WebTau",
    "type": "Guide",
    "previewEnabled": false
  },
  "page": {
    "type": "Page",
    "content": [
      {
        "title": "Validation",
        "id": "validation",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Webtau supports validation of responses against an ",
                "type": "SimpleText"
              },
              {
                "url": "https://www.openapis.org/",
                "isFile": false,
                "type": "Link",
                "content": [
                  {
                    "text": "OpenAPI specification",
                    "type": "SimpleText"
                  }
                ]
              },
              {
                "text": ".  This feature can",
                "type": "SimpleText"
              },
              {
                "type": "SoftLineBreak"
              },
              {
                "text": "be enabled by specifying the ",
                "type": "SimpleText"
              },
              {
                "code": "openApiSpecUrl",
                "type": "InlinedCode"
              },
              {
                "text": " configuration option.  This should be the URL to the specification against",
                "type": "SimpleText"
              },
              {
                "type": "SoftLineBreak"
              },
              {
                "text": "which to validate.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "cfg",
            "maxLineLength": 32,
            "tokens": [
              "url ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " ",
              {
                "type": "string",
                "content": "\"http://localhost:8080\""
              },
              "\nopenApiSpecUrl ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " ",
              {
                "type": "string",
                "content": "\u0027api-spec.json\u0027"
              }
            ],
            "title": "Configuration",
            "type": "Snippet"
          }
        ]
      },
      {
        "title": "Current limitations",
        "id": "current-limitations",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "OpenAPI specification support is still in its early stage.  It is fully functional but there are a few limitations to be",
                "type": "SimpleText"
              },
              {
                "type": "SoftLineBreak"
              },
              {
                "text": "aware of:",
                "type": "SimpleText"
              }
            ]
          },
          {
            "bulletMarker": "*",
            "tight": true,
            "type": "BulletList",
            "content": [
              {
                "type": "ListItem",
                "content": [
                  {
                    "type": "Paragraph",
                    "content": [
                      {
                        "text": "webtau currently only supports OpenAPI specification v2",
                        "type": "SimpleText"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "ListItem",
                "content": [
                  {
                    "type": "Paragraph",
                    "content": [
                      {
                        "text": "specification matching is currently done purely based on the path",
                        "type": "SimpleText"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "ListItem",
                "content": [
                  {
                    "type": "Paragraph",
                    "content": [
                      {
                        "text": "any HTTP requests which do not match any operation in the specification will not fail tests but will produce a warning",
                        "type": "SimpleText"
                      },
                      {
                        "type": "SoftLineBreak"
                      },
                      {
                        "text": "on the console",
                        "type": "SimpleText"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "title": "Validations report",
        "id": "validations-report",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "The validation errors are reported in the same manner as assertion errors.  They are available in the output from the",
                "type": "SimpleText"
              },
              {
                "type": "SoftLineBreak"
              },
              {
                "text": "command line webtau runner:",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "bash",
            "maxLineLength": 85,
            "tokens": [
              {
                "type": "operator",
                "content": "\u003e"
              },
              " executing HTTP POST http://localhost:8080/customers\n ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n  ",
              {
                "type": "string",
                "content": [
                  "\"id\""
                ]
              },
              {
                "type": "keyword",
                "content": ":"
              },
              " 1,\n  ",
              {
                "type": "string",
                "content": [
                  "\"firstName\""
                ]
              },
              {
                "type": "keyword",
                "content": ":"
              },
              " ",
              {
                "type": "string",
                "content": [
                  "\"FN\""
                ]
              },
              ",\n  ",
              {
                "type": "string",
                "content": [
                  "\"lastName\""
                ]
              },
              {
                "type": "keyword",
                "content": ":"
              },
              " ",
              {
                "type": "string",
                "content": [
                  "\"LN\""
                ]
              },
              ",\n  ",
              {
                "type": "string",
                "content": [
                  "\"_links\""
                ]
              },
              {
                "type": "keyword",
                "content": ":"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    ",
              {
                "type": "string",
                "content": [
                  "\"self\""
                ]
              },
              {
                "type": "keyword",
                "content": ":"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n      ",
              {
                "type": "string",
                "content": [
                  "\"href\""
                ]
              },
              {
                "type": "keyword",
                "content": ":"
              },
              " ",
              {
                "type": "string",
                "content": [
                  "\"http://localhost:8080/customers/1\""
                ]
              },
              "\n    ",
              {
                "type": "punctuation",
                "content": "}"
              },
              ",\n    ",
              {
                "type": "string",
                "content": [
                  "\"customer\""
                ]
              },
              {
                "type": "keyword",
                "content": ":"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n      ",
              {
                "type": "string",
                "content": [
                  "\"href\""
                ]
              },
              {
                "type": "keyword",
                "content": ":"
              },
              " ",
              {
                "type": "string",
                "content": [
                  "\"http://localhost:8080/customers/1\""
                ]
              },
              "\n    ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n  ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\nX failed executing HTTP POST http://localhost:8080/customers ",
              {
                "type": "keyword",
                "content": ":"
              },
              " \nAPI spec validation failure: ERROR - Response status 201 not defined ",
              {
                "type": "keyword",
                "content": "for"
              },
              " path ",
              {
                "type": "string",
                "content": [
                  "\u0027\u0027"
                ]
              },
              ".: ",
              {
                "type": "punctuation",
                "content": "["
              },
              {
                "type": "punctuation",
                "content": "]"
              },
              "\n",
              {
                "type": "punctuation",
                "content": "["
              },
              "x",
              {
                "type": "punctuation",
                "content": "]"
              },
              " failed\njava.lang.AssertionError: \nAPI spec validation failure: ERROR - Response status 201 not defined ",
              {
                "type": "keyword",
                "content": "for"
              },
              " path ",
              {
                "type": "string",
                "content": [
                  "\u0027\u0027"
                ]
              },
              ".: ",
              {
                "type": "punctuation",
                "content": "["
              },
              {
                "type": "punctuation",
                "content": "]"
              },
              "\n\tat rest.springboot.customerCrud",
              {
                "type": "variable",
                "content": "$_run_closure1"
              },
              ".doCall",
              {
                "type": "punctuation",
                "content": "("
              },
              "customerCrud.groovy:8",
              {
                "type": "punctuation",
                "content": ")"
              },
              "\n\tat rest.springboot.customerCrud",
              {
                "type": "variable",
                "content": "$_run_closure1"
              },
              ".doCall",
              {
                "type": "punctuation",
                "content": "("
              },
              "customerCrud.groovy",
              {
                "type": "punctuation",
                "content": ")"
              },
              "\n\n\n\nTotal: 1,  Passed: 0,  Skipped: 0,  Failed: 1,  Errored: 0\n"
            ],
            "lineNumber": "",
            "type": "Snippet"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "They are also available in the HTML report:",
                "type": "SimpleText"
              }
            ]
          },
          {
            "fit": true,
            "imageSrc": "/webtau/guide/img/rest-crud-openapi-spec-validation-error.png",
            "shapes": [],
            "width": 2242.0,
            "height": 620.0,
            "type": "AnnotatedImage"
          }
        ]
      }
    ],
    "lastModifiedTime": 1527187400000,
    "tocItem": {
      "sectionTitle": "REST",
      "pageTitle": "OpenAPI Spec",
      "pageMeta": {},
      "fileName": "openAPI-spec",
      "dirName": "REST",
      "pageSectionIdTitles": [
        {
          "title": "Validation",
          "id": "validation"
        },
        {
          "title": "Current limitations",
          "id": "current-limitations"
        },
        {
          "title": "Validations report",
          "id": "validations-report"
        }
      ]
    }
  },
  "footer": {}
}), document.getElementById("mdoc"));
</script>

</body>
</html>
