<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<title>WebTau: Data Node</title><link rel="stylesheet" type="text/css" href="/webtau/guide/static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/webtau/guide/static/main.css">
<link rel="stylesheet" type="text/css" href="/webtau/guide/logo.css">
</head>
<link rel="shortcut icon" href="/webtau/guide/favicon.png"type="image/ico"/>
<body>
<div id="mdoc"><div class="with-theme theme-default" data-reactroot=""><div class="documentation"><div class="side-panel"><div class="toc-panel"><div class="toc-panel-header"><div class="toc-panel-header-logo-and-title"><div class="mdoc-documentation-logo"></div><div class="toc-panel-header-title">WebTau Guide</div></div><div class="toc-panel-collapse-button"><svg xmlns="http://www.w3.org/2000/svg" width="9" height="14" viewBox="0 0 9 14"><path fill-rule="evenodd" d="M6.93 13.23L0 6.61 6.93 0l1.48 1.532L3.305 6.65l5.107 4.977z"></path></svg></div></div><div class="toc-menu"><div class="toc-section selected"><div class="title">REST</div><div class="toc-item"><a href="/webtau/guide/REST/getting-started">Getting Started</a></div><div class="toc-item"><a href="/webtau/guide/REST/CRUD">CRUD</a></div><div class="toc-item"><a href="/webtau/guide/REST/CRUD-separated">CRUD Separated</a></div><div class="toc-item selected"><a href="/webtau/guide/REST/data-node">Data Node</a><div class="page-sections"><div class="page-section selected"><a href="#special-values">Special Values</a></div><div class="page-section"><a href="#extracting-values">Extracting Values</a></div><div class="page-section"><a href="#properties-on-lists">Properties On Lists</a></div><div class="page-section"><a href="#find">Find</a></div><div class="page-section"><a href="#collect">Collect</a></div><div class="page-section"><a href="#combine">Combine</a></div></div></div><div class="toc-item"><a href="/webtau/guide/REST/headers">Headers</a></div><div class="toc-item"><a href="/webtau/guide/REST/files-upload">Files Upload</a></div><div class="toc-item"><a href="/webtau/guide/REST/PDF">PDF</a></div><div class="toc-item"><a href="/webtau/guide/REST/documentation">Documentation</a></div><div class="toc-item"><a href="/webtau/guide/REST/complex-types">Complex Types</a></div><div class="toc-item"><a href="/webtau/guide/REST/openAPI-spec">OpenAPI Spec</a></div><div class="toc-item"><a href="/webtau/guide/REST/report">Report</a></div><div class="toc-item"><a href="/webtau/guide/REST/maven">Maven</a></div><div class="toc-item"><a href="/webtau/guide/REST/matchers">Matchers</a></div></div><div class="toc-section"><div class="title">UI</div><div class="toc-item"><a href="/webtau/guide/UI/getting-started">Getting Started</a></div><div class="toc-item"><a href="/webtau/guide/UI/basic-configuration">Basic Configuration</a></div><div class="toc-item"><a href="/webtau/guide/UI/page-element-and-value">Page Element And Value</a></div><div class="toc-item"><a href="/webtau/guide/UI/page-object">Page Object</a></div><div class="toc-item"><a href="/webtau/guide/UI/advanced-configuration">Advanced Configuration</a></div><div class="toc-item"><a href="/webtau/guide/UI/finders-and-filters">Finders And Filters</a></div><div class="toc-item"><a href="/webtau/guide/UI/matchers">Matchers</a></div></div><div class="toc-section"><div class="title">Configuration</div><div class="toc-item"><a href="/webtau/guide/configuration/cli">Cli</a></div><div class="toc-item"><a href="/webtau/guide/configuration/environments">Environments</a></div></div></div></div></div><div class="search-button glyphicon glyphicon-search"></div><div class="main-panel"><div class="page-content"><div class="content-block"><div class="page-title-block"><span class="page-title">Data Node</span><span class="presentation-button glyphicon glyphicon-resize-full"></span></div><div class="page-meta-block"><div class="page-last-update-time">Thu Jul 12 2018</div><div class="page-view-on"><a href="https://github.com/twosigma/webtau/tree/master/webtau-docs/webtau/REST/data-node.md" target="_bank">View On GitHub</a></div></div></div><div class="section"><div class="content-block"><h1 class="section-title" id="special-values">Special Values<a href="#special-values"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line">http<span class="token operator">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/end-point&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    price<span class="token operator">.</span>should <span class="token operator">==</span> <span class="token number">100</span>
</span><span class="code-line">    <span class="token keyword">assert</span> price <span class="token keyword">instanceof</span> <span class="token class-name">DataNode</span>
</span><span class="code-line"><span class="token punctuation">}</span></span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div><div class="paragraph content-block"><span class="simple-text">Values that you access inside validation block are special values of </span><code>DataNode</code><span class="simple-text"> type. When you assert them using </span><code>should</code><span class="simple-text"> statement</span><span> </span><span class="simple-text">they act as proxies that record every assertion that you do.</span></div></div><div class="section"><div class="content-block"><h1 class="section-title" id="extracting-values">Extracting Values<a href="#extracting-values"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="paragraph content-block"><span class="simple-text">As you have seen in </span><a href="/webtau/guide/REST/CRUD" target="_blank"><span class="simple-text">CRUD example</span></a><span class="simple-text"> you can return values back from a validation block.</span></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line"><span class="token keyword">def</span> id <span class="token operator">=</span> http<span class="token operator">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/end-point&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> id
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">assert</span> id <span class="token operator">==</span> <span class="token number">10</span>
</span><span class="code-line"><span class="token keyword">assert</span> id<span class="token operator">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Integer</span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div><div class="paragraph content-block"><span class="simple-text">When you return a value from a validation block, it automatically gets converted to its correspondent primitive.</span></div><div class="paragraph attention note content-block"><span class="icon-part"><span class="icon"><span class="icon glyphicon glyphicon-info-sign"></span></span><span class="label-message">Note:</span></span><span class="message-part"><span class="simple-text">asserting that value after returning will not track and associated assertions with the call anymore. Use it only</span><span> </span><span class="simple-text">to get values required for consequent test calls.</span></span></div></div><div class="section"><div class="content-block"><h1 class="section-title" id="properties-on-lists">Properties On Lists<a href="#properties-on-lists"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line"><span class="token indentation"></span><span class="token punctuation">{</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token key">&quot;id&quot;</span><span class="token punctuation">: </span><span class="token number">10</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token key">&quot;price&quot;</span><span class="token punctuation">: </span><span class="token number">100</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token key">&quot;amount&quot;</span><span class="token punctuation">: </span><span class="token number">30</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token key">&quot;list&quot;</span><span class="token punctuation">: </span><span class="token punctuation">[</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token number">1</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token number">2</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token number">3</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token key">&quot;object&quot;</span><span class="token punctuation">: </span><span class="token punctuation">{</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token key">&quot;k1&quot;</span><span class="token punctuation">: </span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token key">&quot;k2&quot;</span><span class="token punctuation">: </span><span class="token string">&quot;v2&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token key">&quot;k3&quot;</span><span class="token punctuation">: </span><span class="token string">&quot;v3&quot;</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token key">&quot;complexList&quot;</span><span class="token punctuation">: </span><span class="token punctuation">[</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token punctuation">{</span>
</span><span class="code-line"><span class="token indentation">      </span><span class="token key">&quot;id&quot;</span><span class="token punctuation">: </span><span class="token string">&quot;id1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">      </span><span class="token key">&quot;k1&quot;</span><span class="token punctuation">: </span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">      </span><span class="token key">&quot;k2&quot;</span><span class="token punctuation">: </span><span class="token number">30</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token punctuation">{</span>
</span><span class="code-line"><span class="token indentation">      </span><span class="token key">&quot;id&quot;</span><span class="token punctuation">: </span><span class="token string">&quot;id2&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">      </span><span class="token key">&quot;k1&quot;</span><span class="token punctuation">: </span><span class="token string">&quot;v11&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token indentation">      </span><span class="token key">&quot;k2&quot;</span><span class="token punctuation">: </span><span class="token number">40</span>
</span><span class="code-line"><span class="token indentation">    </span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token indentation">  </span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token indentation"></span><span class="token punctuation">}</span></span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div><div class="paragraph content-block"><span class="simple-text">If you have a list of objects like </span><code>complexList</code><span class="simple-text"> above, you can access all its children property value with </span><code>complexList.k2</code><span class="simple-text">.</span></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line">http<span class="token operator">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/end-point&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    complexList<span class="token operator">.</span>k2<span class="token operator">.</span>should <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span></span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div></div><div class="section"><div class="content-block"><h1 class="section-title" id="find">Find<a href="#find"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="paragraph content-block"><span class="simple-text">Special values inside assertion block have convenient methods</span></div><div class="paragraph content-block"><code>find</code><span class="simple-text"> to find a single value</span></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line"><span class="token keyword">def</span> found <span class="token operator">=</span> http<span class="token operator">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/end-point&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> list<span class="token operator">.</span>find <span class="token punctuation">{</span> it <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">assert</span> found <span class="token operator">==</span> <span class="token number">2</span>
</span><span class="code-line"><span class="token keyword">assert</span> found<span class="token operator">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Integer</span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div><div class="paragraph content-block"><span class="simple-text">and </span><code>findAll</code><span class="simple-text"> to find all the values matching predicate</span></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line"><span class="token keyword">def</span> found <span class="token operator">=</span> http<span class="token operator">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/end-point&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> list<span class="token operator">.</span>findAll <span class="token punctuation">{</span> it <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">assert</span> found <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token keyword">assert</span> found<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Integer</span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div><div class="paragraph attention note content-block"><span class="icon-part"><span class="icon"><span class="icon glyphicon glyphicon-info-sign"></span></span><span class="label-message">Note:</span></span><span class="message-part"><span class="simple-text">While values inside a predicate are normal values, the result of </span><code>find</code><span class="simple-text"> and </span><code>findAll</code><span class="simple-text"> is still </span><code>DataNode</code></span></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line"><span class="token keyword">def</span> id <span class="token operator">=</span> http<span class="token operator">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/end-point&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">def</span> found <span class="token operator">=</span> complexList<span class="token operator">.</span>find <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">assert</span> k1<span class="token operator">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> String
</span><span class="code-line">        k1 <span class="token operator">==</span> <span class="token string">&#x27;v1&#x27;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token keyword">assert</span> found<span class="token operator">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> GroovyDataNode
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> found<span class="token operator">.</span>id
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">assert</span> id<span class="token operator">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> String</span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div></div><div class="section"><div class="content-block"><h1 class="section-title" id="collect">Collect<a href="#collect"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="paragraph content-block"><span class="simple-text">Use </span><code>collect</code><span class="simple-text"> to transform a collection of items</span></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line"><span class="token keyword">def</span> transformed <span class="token operator">=</span> http<span class="token operator">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/end-point&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> list<span class="token operator">.</span>collect <span class="token punctuation">{</span> <span class="token string">&quot;world#${it}&quot;</span> <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">assert</span> transformed <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token string">&#x27;world#1&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;world#2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;world#3&#x27;</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token keyword">assert</span> transformed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">GString</span></span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div></div><div class="section"><div class="content-block"><h1 class="section-title" id="combine">Combine<a href="#combine"><span class="icon glyphicon glyphicon-link"></span></a></h1></div><div class="paragraph content-block"><span class="simple-text">Methods </span><code>find</code><span class="simple-text"> and </span><code>collect</code><span class="simple-text"> can be chained</span></div><div class="snippet-container content-block"><div class="snippet"><pre><span class="code-line"><span class="token keyword">def</span> sum <span class="token operator">=</span> http<span class="token operator">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/end-point&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> complexList
</span><span class="code-line">            <span class="token operator">.</span>findAll <span class="token punctuation">{</span> k1<span class="token operator">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#x27;v1&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</span><span class="code-line">            <span class="token operator">.</span>collect <span class="token punctuation">{</span> k2 <span class="token punctuation">}</span>
</span><span class="code-line">            <span class="token operator">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">assert</span> sum <span class="token operator">==</span> <span class="token number">70</span></span></pre><div class="snippet-copy-to-clipboard copy"><div class="snippet-copy-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div></div></div></div></div></div><div class="page-default-bottom-padding"></div><div class="page-bottom"><div class="page-default-next-prev-navigation"><div class="default-next-prev-navigation-button"><span class="glyphicon glyphicon-chevron-left"></span><span class="next-prev-page-title">CRUD Separated<!-- --> </span></div><div class="default-next-prev-navigation-button"><span class="next-prev-page-title">Headers<!-- --> </span><span class="glyphicon glyphicon-chevron-right"></span></div></div></div></div></div></div></div>
<script type="text/javascript" src="/webtau/guide/toc.js"></script>
<script type="text/javascript" src="/webtau/guide/static/react.min.js"></script>
<script type="text/javascript" src="/webtau/guide/static/react-dom.min.js"></script>
<script type="text/javascript" src="/webtau/guide/static/main.js"></script>
<script>
document.getElementById('mdoc').innerHTML = '';
ReactDOM.render(React.createElement(Documentation, {
  "docMeta": {
    "viewOn": {
      "link": "https://github.com/twosigma/webtau/tree/master/webtau-docs/webtau",
      "title": "View On GitHub"
    },
    "id": "webtau/guide",
    "title": "WebTau",
    "type": "Guide",
    "previewEnabled": false
  },
  "page": {
    "type": "Page",
    "content": [
      {
        "title": "Special Values",
        "id": "special-values",
        "type": "Section",
        "content": [
          {
            "lang": "groovy",
            "maxLineLength": 36,
            "tokens": [
              "http",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "get"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\"/end-point\""
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    price",
              {
                "type": "operator",
                "content": "."
              },
              "should ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " ",
              {
                "type": "number",
                "content": "100"
              },
              "\n    ",
              {
                "type": "keyword",
                "content": "assert"
              },
              " price ",
              {
                "type": "keyword",
                "content": "instanceof"
              },
              " ",
              {
                "type": "class-name",
                "content": [
                  "DataNode"
                ]
              },
              "\n",
              {
                "type": "punctuation",
                "content": "}"
              }
            ],
            "entry": "use groovy closure as validation",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Values that you access inside validation block are special values of ",
                "type": "SimpleText"
              },
              {
                "code": "DataNode",
                "type": "InlinedCode"
              },
              {
                "text": " type. When you assert them using ",
                "type": "SimpleText"
              },
              {
                "code": "should",
                "type": "InlinedCode"
              },
              {
                "text": " statement",
                "type": "SimpleText"
              },
              {
                "type": "SoftLineBreak"
              },
              {
                "text": "they act as proxies that record every assertion that you do.",
                "type": "SimpleText"
              }
            ]
          }
        ]
      },
      {
        "title": "Extracting Values",
        "id": "extracting-values",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "As you have seen in ",
                "type": "SimpleText"
              },
              {
                "url": "/webtau/guide/REST/CRUD",
                "isFile": false,
                "type": "Link",
                "content": [
                  {
                    "text": "CRUD example",
                    "type": "SimpleText"
                  }
                ]
              },
              {
                "text": " you can return values back from a validation block.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "maxLineLength": 33,
            "tokens": [
              {
                "type": "keyword",
                "content": "def"
              },
              " id ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " http",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "get"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\"/end-point\""
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    ",
              {
                "type": "keyword",
                "content": "return"
              },
              " id\n",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " id ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " ",
              {
                "type": "number",
                "content": "10"
              },
              "\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " id",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "getClass"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " Integer"
            ],
            "entry": "can return simple value from get",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "When you return a value from a validation block, it automatically gets converted to its correspondent primitive.",
                "type": "SimpleText"
              }
            ]
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Note: asserting that value after returning will not track and associated assertions with the call anymore. Use it only",
                "type": "SimpleText"
              },
              {
                "type": "SoftLineBreak"
              },
              {
                "text": "to get values required for consequent test calls.",
                "type": "SimpleText"
              }
            ]
          }
        ]
      },
      {
        "title": "Properties On Lists",
        "id": "properties-on-lists",
        "type": "Section",
        "content": [
          {
            "data": {
              "id": 10,
              "price": 100,
              "amount": 30,
              "list": [
                1,
                2,
                3
              ],
              "object": {
                "k1": "v1",
                "k2": "v2",
                "k3": "v3"
              },
              "complexList": [
                {
                  "id": "id1",
                  "k1": "v1",
                  "k2": 30
                },
                {
                  "id": "id2",
                  "k1": "v11",
                  "k2": 40
                }
              ]
            },
            "paths": [],
            "type": "Json"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "If you have a list of objects like ",
                "type": "SimpleText"
              },
              {
                "code": "complexList",
                "type": "InlinedCode"
              },
              {
                "text": " above, you can access all its children property value with ",
                "type": "SimpleText"
              },
              {
                "code": "complexList.k2",
                "type": "InlinedCode"
              },
              {
                "text": ".",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "maxLineLength": 37,
            "tokens": [
              "http",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "get"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\"/end-point\""
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    complexList",
              {
                "type": "operator",
                "content": "."
              },
              "k2",
              {
                "type": "operator",
                "content": "."
              },
              "should ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " ",
              {
                "type": "punctuation",
                "content": "["
              },
              {
                "type": "number",
                "content": "30"
              },
              {
                "type": "punctuation",
                "content": ","
              },
              " ",
              {
                "type": "number",
                "content": "40"
              },
              {
                "type": "punctuation",
                "content": "]"
              },
              "\n",
              {
                "type": "punctuation",
                "content": "}"
              }
            ],
            "entry": "groovy children key shortcut",
            "bodyOnly": true,
            "type": "Snippet"
          }
        ]
      },
      {
        "title": "Find",
        "id": "find",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Special values inside assertion block have convenient methods",
                "type": "SimpleText"
              }
            ]
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "code": "find",
                "type": "InlinedCode"
              },
              {
                "text": " to find a single value",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "maxLineLength": 36,
            "tokens": [
              {
                "type": "keyword",
                "content": "def"
              },
              " found ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " http",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "get"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\"/end-point\""
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    ",
              {
                "type": "keyword",
                "content": "return"
              },
              " list",
              {
                "type": "operator",
                "content": "."
              },
              "find ",
              {
                "type": "punctuation",
                "content": "{"
              },
              " it ",
              {
                "type": "operator",
                "content": "\u003e"
              },
              " ",
              {
                "type": "number",
                "content": "1"
              },
              " ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " found ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " ",
              {
                "type": "number",
                "content": "2"
              },
              "\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " found",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "getClass"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " Integer"
            ],
            "entry": "groovy find on list",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "and ",
                "type": "SimpleText"
              },
              {
                "code": "findAll",
                "type": "InlinedCode"
              },
              {
                "text": " to find all the values matching predicate",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "maxLineLength": 37,
            "tokens": [
              {
                "type": "keyword",
                "content": "def"
              },
              " found ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " http",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "get"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\"/end-point\""
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    ",
              {
                "type": "keyword",
                "content": "return"
              },
              " list",
              {
                "type": "operator",
                "content": "."
              },
              "findAll ",
              {
                "type": "punctuation",
                "content": "{"
              },
              " it ",
              {
                "type": "operator",
                "content": "\u003e"
              },
              " ",
              {
                "type": "number",
                "content": "1"
              },
              " ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " found ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " ",
              {
                "type": "punctuation",
                "content": "["
              },
              {
                "type": "number",
                "content": "2"
              },
              {
                "type": "punctuation",
                "content": ","
              },
              " ",
              {
                "type": "number",
                "content": "3"
              },
              {
                "type": "punctuation",
                "content": "]"
              },
              "\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " found",
              {
                "type": "punctuation",
                "content": "["
              },
              {
                "type": "number",
                "content": "0"
              },
              {
                "type": "punctuation",
                "content": "]"
              },
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "getClass"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " Integer"
            ],
            "entry": "groovy findAll on list",
            "bodyOnly": true,
            "type": "Snippet"
          },
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Note: While values inside a predicate are normal values, the result of ",
                "type": "SimpleText"
              },
              {
                "code": "find",
                "type": "InlinedCode"
              },
              {
                "text": " and ",
                "type": "SimpleText"
              },
              {
                "code": "findAll",
                "type": "InlinedCode"
              },
              {
                "text": " is still ",
                "type": "SimpleText"
              },
              {
                "code": "DataNode",
                "type": "InlinedCode"
              }
            ]
          },
          {
            "lang": "groovy",
            "maxLineLength": 45,
            "tokens": [
              {
                "type": "keyword",
                "content": "def"
              },
              " id ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " http",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "get"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\"/end-point\""
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    ",
              {
                "type": "keyword",
                "content": "def"
              },
              " found ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " complexList",
              {
                "type": "operator",
                "content": "."
              },
              "find ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n        ",
              {
                "type": "keyword",
                "content": "assert"
              },
              " k1",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "getClass"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " String\n        k1 ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " ",
              {
                "type": "string",
                "content": "\u0027v1\u0027"
              },
              "\n    ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n    ",
              {
                "type": "keyword",
                "content": "assert"
              },
              " found",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "getClass"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " GroovyDataNode\n\n    ",
              {
                "type": "keyword",
                "content": "return"
              },
              " found",
              {
                "type": "operator",
                "content": "."
              },
              "id\n",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " id",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "getClass"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " String"
            ],
            "entry": "groovy find on list of objects",
            "bodyOnly": true,
            "type": "Snippet"
          }
        ]
      },
      {
        "title": "Collect",
        "id": "collect",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Use ",
                "type": "SimpleText"
              },
              {
                "code": "collect",
                "type": "InlinedCode"
              },
              {
                "text": " to transform a collection of items",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "maxLineLength": 55,
            "tokens": [
              {
                "type": "keyword",
                "content": "def"
              },
              " transformed ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " http",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "get"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\"/end-point\""
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    ",
              {
                "type": "keyword",
                "content": "return"
              },
              " list",
              {
                "type": "operator",
                "content": "."
              },
              "collect ",
              {
                "type": "punctuation",
                "content": "{"
              },
              " ",
              {
                "type": "string",
                "content": "\"world#${it}\""
              },
              " ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " transformed ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " ",
              {
                "type": "punctuation",
                "content": "["
              },
              {
                "type": "string",
                "content": "\u0027world#1\u0027"
              },
              {
                "type": "punctuation",
                "content": ","
              },
              " ",
              {
                "type": "string",
                "content": "\u0027world#2\u0027"
              },
              {
                "type": "punctuation",
                "content": ","
              },
              " ",
              {
                "type": "string",
                "content": "\u0027world#3\u0027"
              },
              {
                "type": "punctuation",
                "content": "]"
              },
              "\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " transformed",
              {
                "type": "punctuation",
                "content": "["
              },
              {
                "type": "number",
                "content": "0"
              },
              {
                "type": "punctuation",
                "content": "]"
              },
              " ",
              {
                "type": "keyword",
                "content": "instanceof"
              },
              " ",
              {
                "type": "class-name",
                "content": [
                  "GString"
                ]
              }
            ],
            "entry": "groovy transform list",
            "bodyOnly": true,
            "type": "Snippet"
          }
        ]
      },
      {
        "title": "Combine",
        "id": "combine",
        "type": "Section",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              {
                "text": "Methods ",
                "type": "SimpleText"
              },
              {
                "code": "find",
                "type": "InlinedCode"
              },
              {
                "text": " and ",
                "type": "SimpleText"
              },
              {
                "code": "collect",
                "type": "InlinedCode"
              },
              {
                "text": " can be chained",
                "type": "SimpleText"
              }
            ]
          },
          {
            "lang": "groovy",
            "maxLineLength": 44,
            "tokens": [
              {
                "type": "keyword",
                "content": "def"
              },
              " sum ",
              {
                "type": "operator",
                "content": "\u003d"
              },
              " http",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "get"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\"/end-point\""
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "{"
              },
              "\n    ",
              {
                "type": "keyword",
                "content": "return"
              },
              " complexList\n            ",
              {
                "type": "operator",
                "content": "."
              },
              "findAll ",
              {
                "type": "punctuation",
                "content": "{"
              },
              " k1",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "startsWith"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "string",
                "content": "\u0027v1\u0027"
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              " ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n            ",
              {
                "type": "operator",
                "content": "."
              },
              "collect ",
              {
                "type": "punctuation",
                "content": "{"
              },
              " k2 ",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n            ",
              {
                "type": "operator",
                "content": "."
              },
              {
                "type": "function",
                "content": "sum"
              },
              {
                "type": "punctuation",
                "content": "("
              },
              {
                "type": "punctuation",
                "content": ")"
              },
              "\n",
              {
                "type": "punctuation",
                "content": "}"
              },
              "\n\n",
              {
                "type": "keyword",
                "content": "assert"
              },
              " sum ",
              {
                "type": "operator",
                "content": "\u003d\u003d"
              },
              " ",
              {
                "type": "number",
                "content": "70"
              }
            ],
            "entry": "groovy findAll, collect, and sum",
            "bodyOnly": true,
            "type": "Snippet"
          }
        ]
      }
    ],
    "lastModifiedTime": 1531427406000,
    "tocItem": {
      "sectionTitle": "REST",
      "pageTitle": "Data Node",
      "pageMeta": {},
      "fileName": "data-node",
      "dirName": "REST",
      "pageSectionIdTitles": [
        {
          "title": "Special Values",
          "id": "special-values"
        },
        {
          "title": "Extracting Values",
          "id": "extracting-values"
        },
        {
          "title": "Properties On Lists",
          "id": "properties-on-lists"
        },
        {
          "title": "Find",
          "id": "find"
        },
        {
          "title": "Collect",
          "id": "collect"
        },
        {
          "title": "Combine",
          "id": "combine"
        }
      ]
    }
  },
  "footer": {}
}), document.getElementById("mdoc"));
</script>

</body>
</html>
